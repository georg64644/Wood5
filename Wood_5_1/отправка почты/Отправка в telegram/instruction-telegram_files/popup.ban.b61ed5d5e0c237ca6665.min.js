(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{1211:function(e,n,t){"use strict";t.r(n);var o=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("layout-popup-content",{staticClass:"subsite-ban-popup",scopedSlots:e._u([{key:"header",fn:function(){return[t("layout-popup-header",{attrs:{"has-close-btn":!0,"has-divider":!0},on:{close:e.closePopup}},[e._v("\n      "+e._s(e.title)+"\n    ")])]},proxy:!0},{key:"footer",fn:function(){return[t("layout-popup-footer",{scopedSlots:e._u([{key:"right",fn:function(){return[t("layout-button",{attrs:{type:"blue",loading:e.isLoading,disabled:!e.durationIsValid},on:{click:e.ban}},[e._v("\n          Забанить\n        ")])]},proxy:!0}])})]},proxy:!0}])},[e._v(" "),t("div",{on:{keyup:function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"enter",13,n.key,"Enter")?null:n.ctrlKey?e.ban.apply(null,arguments):null}}},[e.hasRemoveAllContent?e._e():t("text-input",{staticClass:"subsite-ban-popup__field",attrs:{type:"number","is-disabled":e.isBanForever,"is-invalid":!e.durationIsValid,error:e.durationErrorCaption,placeholder:"Длительность бана в днях"},model:{value:e.duration,callback:function(n){e.duration=n},expression:"duration"}}),e._v(" "),t("text-area",{staticClass:"subsite-ban-popup__field",attrs:{placeholder:"Причина"},model:{value:e.reason,callback:function(n){e.reason=n},expression:"reason"}}),e._v(" "),t("div",{staticClass:"subsite-ban-popup__field subsite-ban-popup__whole-container"},[t("checkbox",{attrs:{caption:"Забанить навсегда"},model:{value:e.isBanForever,callback:function(n){e.isBanForever=n},expression:"isBanForever"}})],1),e._v(" "),e.hasWholePlatform?t("div",{staticClass:"subsite-ban-popup__field subsite-ban-popup__whole-container"},[t("checkbox",{attrs:{caption:"Забанить на всей платформе ⚠️"},model:{value:e.isBanOnWholePlatform,callback:function(n){e.isBanOnWholePlatform=n},expression:"isBanOnWholePlatform"}})],1):e._e(),e._v(" "),e.hasRemoveAllContent?t("checkbox",{staticClass:"subsite-ban-popup__field",attrs:{caption:"Удаление всего контента по просьбе пользователя"},model:{value:e.isRemoveAllContent,callback:function(n){e.isRemoveAllContent=n},expression:"isRemoveAllContent"}}):e._e()],1)])};o._withStripped=!0;var a=t(3),i=t(553),r=t(556),s=t(569),l=t(570),c=t(562),h=t(571),p=t(563),d={name:"subsite-ban-popup",components:{LayoutPopupHeader:c.a,LayoutPopupFooter:h.a,LayoutPopupContent:p.a,LayoutButton:i.a,TextInput:r.default,TextArea:s.a,Checkbox:l.a},props:{url:{type:String,default:"/ban/subsite"},isUser:{type:Boolean,default:!0},hasWholePlatform:{type:Boolean,default:!1},hasRemoveAllContent:{type:Boolean,default:!1},subsiteIds:{type:String,required:!0},callback:{type:Function,default:()=>!1},callbackParams:{type:Object,default:null}},data:()=>({duration:null,reason:"",isBanForever:!1,isBanOnWholePlatform:!1,isRemoveAllContent:!1,isLoading:!1}),computed:{title(){return this.isUser?"Забанить пользователя":"Забанить подсайт"},durationIsValid(){return this.isBanForever||null===this.duration||this.duration&&this.duration.length<=3&&parseInt(this.duration)<=999&&parseInt(this.duration)>=1},durationErrorCaption(){return this.durationIsValid?"":"Кол-во дней должно быть от 1 до 999"}},methods:{ban(){this.isLoading=!0,Object(a.c)({url:`${this.url}/${this.subsiteIds}`,data:{days:this.isBanForever?0:this.duration||0,reason_text:this.reason,also_remove_comments_and_contents:this.hasRemoveAllContent,remove_all_data:this.isRemoveAllContent,banned_whole_platform:this.hasRemoveAllContent||this.isBanOnWholePlatform},success:({success:e})=>{this.isLoading=!1,this.$emit("close"),e?this.$notify({type:"success",message:"Пользователь забанен"}):this.$notify({type:"error",message:"Невозможно забанить пользователя"}),this.callback&&(this.callbackParams?this.callback(!0,{...this.callbackParams,reason:this.reason,days:this.isBanForever?0:this.duration||0}):this.callback(!0))},error:e=>{this.isLoading=!1,this.closePopup(),this.callback&&this.callback(!1,e)}})},closePopup(){this.$emit("close")}}},u=(t(946),t(948),t(14)),b=Object(u.a)(d,o,[],!1,null,"12353961",null);b.options.__file="src/Components/Subsite/vue/popups/subsite-ban-popup.vue";n.default=b.exports},569:function(e,n,t){"use strict";var o=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("field",{class:{"v-field--scroll":e.hasScrollbar},attrs:{size:e.size,icons:{right:e.icon},caption:e.caption,error:e.error,"is-focused":e.isFocused,"is-disabled":e.isDisabled,"is-invalid":e.isInvalid}},[t("div",{class:["v-text-area","v-text-area--"+e.size,{"v-text-area--disabled":e.isDisabled,"v-text-area--resizable":e.isResizable,"v-text-area--scroll":e.hasScrollbar}]},[t("textarea",{ref:"input",staticClass:"v-text-area__input",style:e.textareaStyles,attrs:{disabled:e.isDisabled,placeholder:e.placeholder,minlength:e.minlength,maxlength:e.maxlength},domProps:{value:e.value},on:{focus:function(n){e.isFocused=!0},blur:function(n){e.isFocused=!1},input:e.onInput}}),e._v(" "),e.shouldShowCountdown?t("div",{ref:"countdown",staticClass:"v-text-area__countdown"},[e._v("\n      "+e._s(e.symbolsLeft)+"\n    ")]):e._e()])])};o._withStripped=!0;var a=t(567),i={name:"text-area",components:{Field:a.b},model:{prop:"value",event:"input"},props:{value:{type:String,default:""},size:{type:String,default:a.a.Default,validator:e=>Object.values(a.a).includes(e)},icon:{type:Object,default:null},placeholder:{type:String,default:""},minlength:{type:Number,default:0},maxlength:{type:[Number,String],default:""},minLengthToShowCountdown:{type:Number,default:0},caption:{type:String,default:null},error:{type:String,default:""},isDisabled:{type:Boolean,default:!1},isInvalid:{type:Boolean,default:!1},isResizable:{type:Boolean,default:!1},height:{type:Number,default:null}},data(){return{isFocused:!1,symbolsLeft:this.maxlength,hasScrollbar:!1}},computed:{shouldShowCountdown(){return this.maxlength&&this.value.length>=this.minLengthToShowCountdown},textareaStyles(){const e={};return null!==this.height&&(e.height=this.height+"px"),e}},mounted(){this.checkScroll(),this.maxlength&&(this.symbolsLeft=this.calcSymbolsLeft(this.value))},methods:{onInput(e){const{value:n}=e.target;this.checkScroll(),this.maxlength&&(this.symbolsLeft=this.calcSymbolsLeft(n),this.updateRightPadding()),this.$emit("input",n)},checkScroll(){const e=this.$refs.input;this.hasScrollbar=e.clientHeight<e.scrollHeight},updateRightPadding(){const{input:e,countdown:n}=this.$refs;if(!n)return;let t=n.clientWidth+10+12;this.hasScrollbar&&(t-=19),e.style.paddingRight=t+"px"},calcSymbolsLeft(e){const n=e?e.length:0;return this.maxlength-n},focus(){this.$refs.input.focus()}}},r=(t(606),t(14)),s=Object(r.a)(i,o,[],!1,null,null,null);s.options.__file="src/Components/Ui/vue/text-area/index.vue";n.a=s.exports},570:function(e,n,t){"use strict";var o=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("label",{class:["v-checkbox",{"v-checkbox--checked":e.isChecked,"v-checkbox--invalid":e.isInvalid,"v-checkbox--disabled":e.isDisabled}]},[t("input",{ref:"input",staticClass:"v-checkbox__input",attrs:{type:"checkbox",disabled:e.isDisabled},domProps:{value:e.value,checked:e.isChecked},on:{change:e.onChange}}),e._v(" "),t("span",{staticClass:"v-checkbox__control"},[e.isChecked?t("span",{staticClass:"v-checkbox__icon"},[t("icon",{attrs:{name:"v_tick",width:16,height:16}})],1):e._e()]),e._v(" "),e.caption?t("span",{staticClass:"v-checkbox__caption"},[e._v("\n    "+e._s(e.caption)+"\n  ")]):e._e()])};o._withStripped=!0;var a={name:"checkbox",components:{Icon:t(30).a},model:{prop:"checked",event:"change"},props:{checked:{type:[Boolean,Array],required:!0},value:{type:[String,Number],default:""},caption:{type:String,default:""},isInvalid:{type:Boolean,default:!1},isDisabled:{type:Boolean,default:!1}},computed:{isChecked(){return Array.isArray(this.checked)?this.checked.includes(this.value):this.checked}},methods:{onChange(){let e=!this.isChecked;Array.isArray(this.checked)&&(e=[...this.checked],this.isChecked?e.splice(e.indexOf(this.value),1):e.push(this.value)),this.$emit("change",!0===e&&this.value?this.value:e)}}},i=(t(659),t(14)),r=Object(i.a)(a,o,[],!1,null,null,null);r.options.__file="src/Components/Ui/vue/checkbox/index.vue";n.a=r.exports},577:function(e,n,t){var o=t(607);o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,t(29).default)("1099cae2",o,!1,{})},600:function(e,n,t){var o=t(660);o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,t(29).default)("4f2b5104",o,!1,{})},606:function(e,n,t){"use strict";t(577)},607:function(e,n,t){(n=t(28)(!1)).push([e.i,":root {\n/**\n   * Raw height of the Mobile App bar (without safe-area-inset)\n   */\n  --mobile-bar-height-raw: 50px;\n/**\n   * Height of the Mobile App Bar\n   */\n  --mobile-bar-height: calc(var(--mobile-bar-height-raw) + env(safe-area-inset-bottom));\n/**\n   * Height of the App Redirect block for anon users\n   */\n  --mobile-app-redirect-height: 56px;\n}\n.v-text-area {\n  width: 100%;\n  padding: 3px;\n  color: rgba(0,0,0,0.65);\n}\n.v-text-area--disabled {\n  pointer-events: none;\n  color: #bfbfbf;\n}\n.v-text-area__input {\n  position: relative;\n  z-index: 1;\n  vertical-align: bottom;\n  margin: 0;\n  border: none;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  width: 100%;\n  min-height: 40px;\n  padding: 4px 8px;\n  font-size: 16px;\n  line-height: 1.5em;\n  background: transparent;\n  outline: none;\n  resize: none;\n  font-family: 'Roboto';\n}\n.v-text-area__input::-webkit-input-placeholder {\n  opacity: 1;\n  color: #595959;\n}\n.v-text-area__input::-moz-placeholder {\n  opacity: 1;\n  color: #595959;\n}\n.v-text-area__input:-ms-input-placeholder {\n  opacity: 1;\n  color: #595959;\n}\n.v-text-area__input::-ms-input-placeholder {\n  opacity: 1;\n  color: #595959;\n}\n.v-text-area__input::placeholder {\n  opacity: 1;\n  color: #595959;\n}\n.v-text-area--resizable .v-text-area__input {\n  resize: vertical;\n}\n.v-text-area--disabled {\n  color: #bfbfbf;\n  -webkit-text-fill-color: #bfbfbf;\n}\n.v-text-area--disabled::-webkit-input-placeholder {\n  opacity: 1;\n  color: #bfbfbf;\n}\n.v-text-area--disabled::-moz-placeholder {\n  opacity: 1;\n  color: #bfbfbf;\n}\n.v-text-area--disabled:-ms-input-placeholder {\n  opacity: 1;\n  color: #bfbfbf;\n}\n.v-text-area--disabled::-ms-input-placeholder {\n  opacity: 1;\n  color: #bfbfbf;\n}\n.v-text-area--disabled::placeholder {\n  opacity: 1;\n  color: #bfbfbf;\n}\n.v-text-area--tiny .v-text-area__input {\n  height: 32px;\n  min-height: 32px;\n  padding: 0px 4px;\n  font-size: 12px;\n  line-height: 1.33em;\n}\n.v-text-area--small .v-text-area__input {\n  height: 44px;\n  min-height: 44px;\n  padding: 2px 8px;\n  font-size: 14px;\n  line-height: 1.43em;\n}\n.v-text-area--large .v-text-area__input {\n  height: 66px;\n  min-height: 66px;\n  padding: 7px 12px;\n  font-size: 18px;\n  line-height: 1.44em;\n}\n.v-text-area__countdown {\n  position: absolute;\n  right: 12px;\n  bottom: 8px;\n  font-size: 12px;\n}\n.v-text-area--tiny .v-text-area__countdown {\n  right: 8px;\n  bottom: 4px;\n}\n.v-text-area--small .v-text-area__countdown {\n  right: 12px;\n  bottom: 6px;\n}\n.v-text-area--large .v-text-area__countdown {\n  right: 16px;\n  bottom: 11px;\n}\n.v-text-area--scroll .v-text-area__countdown {\n  right: 21px;\n}\n",""]),e.exports=n},659:function(e,n,t){"use strict";t(600)},660:function(e,n,t){(n=t(28)(!1)).push([e.i,":root {\n/**\n   * Raw height of the Mobile App bar (without safe-area-inset)\n   */\n  --mobile-bar-height-raw: 50px;\n/**\n   * Height of the Mobile App Bar\n   */\n  --mobile-bar-height: calc(var(--mobile-bar-height-raw) + env(safe-area-inset-bottom));\n/**\n   * Height of the App Redirect block for anon users\n   */\n  --mobile-app-redirect-height: 56px;\n}\n.v-checkbox {\n  position: relative;\n  display: -ms-inline-flexbox;\n  display: inline-flex;\n  -ms-flex-pack: start;\n  justify-content: flex-start;\n  -ms-flex-align: start;\n  align-items: flex-start;\n  min-width: 18px;\n  min-height: 32px;\n  cursor: pointer;\n}\n.v-checkbox--disabled {\n  cursor: default;\n}\n.v-checkbox__input {\n  position: absolute;\n  top: 0;\n  left: 0;\n  opacity: 0;\n  visibility: hidden;\n}\n.v-checkbox__control {\n  position: absolute;\n  z-index: 1;\n  top: 7px;\n  left: 0;\n  width: 18px;\n  height: 18px;\n  background-color: rgba(0,0,0,0.06);\n  border: 1px solid rgba(0,0,0,0.03);\n  border-radius: 4px;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  -webkit-transition: background-color 0.1s linear, border-color 0.1s linear, -webkit-box-shadow 0.1s linear;\n  transition: background-color 0.1s linear, border-color 0.1s linear, -webkit-box-shadow 0.1s linear;\n  transition: background-color 0.1s linear, border-color 0.1s linear, box-shadow 0.1s linear;\n  transition: background-color 0.1s linear, border-color 0.1s linear, box-shadow 0.1s linear, -webkit-box-shadow 0.1s linear;\n}\n@media (hover: hover) {\n.v-checkbox:hover .v-checkbox__control {\n    background-color: #fff;\n    border-color: #bdd6fa;\n    -webkit-box-shadow: 0 0 0 3px rgba(70,131,217,0.12);\n    box-shadow: 0 0 0 3px rgba(70,131,217,0.12);\n}\n.v-checkbox--checked:hover .v-checkbox__control {\n    background-color: #427ccd;\n    border-color: #427ccd;\n}\n}\n.v-checkbox--checked .v-checkbox__control {\n  background-color: #4683d9;\n  border-color: #4683d9;\n  -webkit-transition: background-color 0s linear, border-color 0s linear, -webkit-box-shadow 0.1s linear;\n  transition: background-color 0s linear, border-color 0s linear, -webkit-box-shadow 0.1s linear;\n  transition: background-color 0s linear, border-color 0s linear, box-shadow 0.1s linear;\n  transition: background-color 0s linear, border-color 0s linear, box-shadow 0.1s linear, -webkit-box-shadow 0.1s linear;\n}\n.v-checkbox--invalid .v-checkbox__control {\n  background-color: rgba(229,46,58,0.1);\n  border-color: #e52e3a;\n}\n.v-checkbox--disabled .v-checkbox__control {\n  background-color: rgba(0,0,0,0.04) !important;\n  border-color: rgba(0,0,0,0.1) !important;\n  -webkit-box-shadow: none !important;\n  box-shadow: none !important;\n}\n.v-checkbox__icon {\n  position: absolute;\n  top: -1px;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  color: #fff;\n}\n.v-checkbox--invalid .v-checkbox__icon,\n.v-checkbox--disabled .v-checkbox__icon {\n  color: rgba(0,0,0,0.25);\n}\n@media (hover: hover) {\n.v-checkbox--invalid:hover .v-checkbox__icon {\n    color: #fff;\n}\n}\n.v-checkbox__icon .icon {\n  fill: currentColor;\n}\n.v-checkbox__caption {\n  padding: 4px 0 4px 26px;\n  font-size: 16px;\n  line-height: 1.5em;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.v-checkbox--disabled .v-checkbox__caption {\n  color: rgba(0,0,0,0.65);\n}\n",""]),e.exports=n},827:function(e,n,t){var o=t(947);o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,t(29).default)("662d08b0",o,!1,{})},828:function(e,n,t){var o=t(949);o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,t(29).default)("1fa9f307",o,!1,{})},946:function(e,n,t){"use strict";t(827)},947:function(e,n,t){(n=t(28)(!1)).push([e.i,"[data-v-12353961]:root {\n/**\n   * Raw height of the Mobile App bar (without safe-area-inset)\n   */\n  --mobile-bar-height-raw: 50px;\n/**\n   * Height of the Mobile App Bar\n   */\n  --mobile-bar-height: calc(var(--mobile-bar-height-raw) + env(safe-area-inset-bottom));\n/**\n   * Height of the App Redirect block for anon users\n   */\n  --mobile-app-redirect-height: 56px;\n}\n.subsite-ban-popup__field[data-v-12353961]:not(:first-child) {\n  margin-top: 16px;\n}\n@media (max-width: 859px) {\n.subsite-ban-popup__field[data-v-12353961]:not(:first-child) {\n    margin-top: 12px;\n}\n}\n",""]),e.exports=n},948:function(e,n,t){"use strict";t(828)},949:function(e,n,t){(n=t(28)(!1)).push([e.i,"[data-v-12353961]:root {\n/**\n   * Raw height of the Mobile App bar (without safe-area-inset)\n   */\n  --mobile-bar-height-raw: 50px;\n/**\n   * Height of the Mobile App Bar\n   */\n  --mobile-bar-height: calc(var(--mobile-bar-height-raw) + env(safe-area-inset-bottom));\n/**\n   * Height of the App Redirect block for anon users\n   */\n  --mobile-app-redirect-height: 56px;\n}\n@media (max-width: 859px) {\n.subsite-ban-popup .v-button[data-v-12353961] {\n    --height: 48px;\n    font-size: 18px;\n}\n}\n",""]),e.exports=n}}]);