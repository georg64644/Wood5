(window.webpackJsonp=window.webpackJsonp||[]).push([[97,87],{1038:function(t,e,i){var n=i(1328);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(29).default)("4fe06148",n,!1,{})},1327:function(t,e,i){"use strict";i(1038)},1328:function(t,e,i){(e=i(28)(!1)).push([t.i,":root {\n/**\n   * Raw height of the Mobile App bar (without safe-area-inset)\n   */\n  --mobile-bar-height-raw: 50px;\n/**\n   * Height of the Mobile App Bar\n   */\n  --mobile-bar-height: calc(var(--mobile-bar-height-raw) + env(safe-area-inset-bottom));\n/**\n   * Height of the App Redirect block for anon users\n   */\n  --mobile-app-redirect-height: 56px;\n}\n.subsite-card {\n  --avatar-size: 40px;\n  font-size: 16px;\n  line-height: 1.5em;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n  align-items: center;\n}\n@media (max-width: 859px) {\n.subsite-card {\n    --avatar-size: 36px;\n    -ms-flex-direction: column;\n    flex-direction: column;\n    -ms-flex-align: start;\n    align-items: flex-start;\n    font-size: 12px;\n}\n}\n.subsite-card__main {\n  display: grid;\n  -ms-flex-align: center;\n  align-items: center;\n  grid-template-columns: var(--avatar-size) 1fr;\n  grid-template-rows: 1fr auto;\n  grid-gap: 0 12px;\n  -ms-flex: 1;\n  flex: 1;\n  min-height: 36px;\n}\n@media (min-width: 860px) {\n.subsite-card__main {\n    min-height: 49px;\n}\n}\n.subsite-card__author-info {\n  overflow: hidden;\n}\n.subsite-card__actions {\n  -ms-flex-negative: 0;\n  flex-shrink: 0;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n  align-items: center;\n}\n@media (min-width: 860px) {\n.subsite-card__actions {\n    margin-left: 18px;\n}\n}\n@media (max-width: 859px) {\n.subsite-card__actions {\n    width: 100%;\n    margin-top: 15px;\n    -ms-flex-align: start;\n    align-items: flex-start;\n}\n}\n.subsite-card__actions .v-subscribe-button--with-notifications {\n  grid-gap: 18px;\n}\n.subsite-card__actions .v-subscribe-button--state-active .v-subscribe-button__subscribe {\n  display: none;\n}\n@media (max-width: 859px) {\n.subsite-card__actions .v-subscribe-button--state-inactive {\n    -ms-flex: 1;\n    flex: 1;\n}\n}\n.subsite-card__avatar {\n  grid-row: span 2;\n  width: var(--avatar-size);\n  padding-bottom: 100%;\n  -webkit-box-shadow: inset 0 0 0 1px rgba(0,0,0,0.1);\n  box-shadow: inset 0 0 0 1px rgba(0,0,0,0.1);\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: 50% 50%;\n  border-radius: 50%;\n}\n.subsite-card__description {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-size: 15px;\n  line-height: 22px;\n}\n@media (max-width: 859px) {\n.subsite-card__description {\n    font-size: 13px;\n    line-height: 18px;\n}\n}\n.subsite-card__messenger:not(:last-child) {\n  margin-right: 16px;\n}\n@media (max-width: 859px) {\n.subsite-card__messenger {\n    -ms-flex: 1;\n    flex: 1;\n}\n}\n.subsite-card-title {\n  --items-gap: 4px;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: baseline;\n  align-items: baseline;\n  min-width: 0;\n}\n.subsite-card-title__item {\n  -ms-flex-negative: 0;\n  flex-shrink: 0;\n}\n.subsite-card-title__item:not(:first-child) {\n  margin-left: var(--items-gap);\n}\n.subsite-card-title__item--name {\n  font-size: 17px;\n  line-height: 26px;\n  font-weight: 500;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  -ms-flex-negative: 1;\n  flex-shrink: 1;\n}\n@media (max-width: 859px) {\n.subsite-card-title__item--name {\n    font-size: 15px;\n    line-height: 22px;\n}\n}\n.subsite-card-title__item--name + .subsite-card-title__item--verified .icon {\n  display: block;\n}\n.subsite-card-title__item--verified,\n.subsite-card-title__item--plus {\n  -ms-flex-item-align: center;\n  align-self: center;\n}\n.subsite-card-title__item--karma {\n  --items-gap: 8px;\n  font-size: 15px;\n  line-height: 20px;\n}\n.subsite-card-title__item--karma .icon {\n  display: block;\n}\n",""]),t.exports=e},205:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"container",class:["v-subscribe-button","v-subscribe-button--"+("full"===t.type&&t.isShowSubscribedButtonLabels?"full":"short"),"v-subscribe-button--"+t.buttonType,{"v-subscribe-button--with-notifications":t.isShowNotificationsButton,"v-subscribe-button--state-active":t.isSubscribedActually,"v-subscribe-button--state-inactive":!t.isSubscribedActually,"v-subscribe-button--notifications-enabled":t.isEnabledNotificationsActually}],attrs:{"data-subsite-id":t.subsiteId}},[t.isSubscribedActually?t._e():i("layout-button",{staticClass:"v-subscribe-button__subscribe",attrs:{type:t.isShowNotificationsButton?"blue":t.buttonType,size:t.size,"mobile-size":t.mobileSize,icon:t.subscribeButtonIcon,"icon-size":24,"data-button":"subscribe","mobile-layout":t.isShortOnMobile?["icon"]:["icon","label"],"desktop-layout":"full"===t.type?["icon","label"]:["icon"]},on:{click:t.toggleSubscription}},[t._v("\n    Подписаться\n  ")]),t._v(" "),t.isSubscribedActually?i("layout-button",{staticClass:"v-subscribe-button__unsubscribe",attrs:{size:t.size,"mobile-size":t.mobileSize,type:t.buttonType,icon:"ui_close","icon-size":[12,12],"data-button":"subscribe","data-gtm":t.gtm&&t.gtm+" — Unsubscribe — Clicked","mobile-layout":t.isShortOnMobile||!t.isShowSubscribedButtonLabels?["icon"]:["icon","label"],"desktop-layout":"full"===t.type&&t.isShowSubscribedButtonLabels?["icon","label"]:["icon"]},on:{click:t.onUnsubscribeClick}},[t._v("\n    Отписаться\n  ")]):t._e(),t._v(" "),t.isSubscribedActually?i("layout-button",{staticClass:"v-subscribe-button__subscribed",attrs:{size:t.size,"mobile-size":t.mobileSize,type:t.buttonType,icon:"ui_check","mobile-layout":t.isShortOnMobile||!t.isShowSubscribedButtonLabels?["icon"]:["icon","label"],"desktop-layout":"full"===t.type&&t.isShowSubscribedButtonLabels?["icon","label"]:["icon"],"icon-size":[14,11]}},[t._v("\n    Подписан\n  ")]):t._e(),t._v(" "),t.isShowNotificationsButton?i("layout-button",{staticClass:"v-subscribe-button__notifications",attrs:{size:t.size,"mobile-size":t.mobileSize,type:t.buttonType,icon:"bell","icon-size":"16","data-button":"notifications","data-gtm":t.gtm&&t.gtm+" — Notifications — Clicked"},on:{click:t.toggleNotifications}}):t._e()],1)};n._withStripped=!0;var s=i(553),a=i(10),o={name:"layout-subscribe-button",components:{LayoutButton:s.a},props:{buttonType:{type:String,default:"default"},type:{type:String,default:"full"},size:{type:String,default:"default"},mobileSize:{type:String,default:"default"},subsiteId:{type:Number,required:!0},isShowNotificationsButton:{type:Boolean,default:!1},isSubscribed:{type:Boolean,default:!1},isNotificationsEnabled:{type:Boolean,default:!1},isShowSubscribedButtonLabels:{type:Boolean,default:!0},subscribeButtonIcon:{type:String,default:"v_follow"},isShortOnMobile:{type:Boolean,default:!1},gtm:{type:String,default:""},subscribeGtmClicks:{type:Array,default:()=>[]}},data(){return{moduleSubsiteModel:null,isSubscribedActually:this.isSubscribed,isEnabledNotificationsActually:this.isNotificationsEnabled}},computed:{},created(){this.moduleSubsiteModel=Air.import("module.subsite_model")},methods:{onUnsubscribeClick(){this.$emit("unsubscribe-click"),this.toggleSubscription()},toggleSubscription(){this.isSubscribedActually||this.subscribeGtmClicks.forEach(t=>{Object(a.sendDefaultEvent)(t)}),this.isSubscribedActually=!this.isSubscribedActually,this.moduleSubsiteModel.subscribe(this.subsiteId,this.isSubscribedActually,t=>{t||(this.isSubscribedActually=!this.isSubscribedActually)})},toggleNotifications(){this.isEnabledNotificationsActually=!this.isEnabledNotificationsActually,this.moduleSubsiteModel.enableNotifications(this.subsiteId,this.isEnabledNotificationsActually,t=>{if(!t)return void(this.isEnabledNotificationsActually=!this.isEnabledNotificationsActually);const e=this.isEnabledNotificationsActually?"Мы уведомим вас о новых записях":"Вы отписались от уведомлений о новых записях";notify.success(e)})}}},l=(i(590),i(14)),u=Object(l.a)(o,n,[],!1,null,null,null);u.options.__file="src/Components/Ui/vue/layout/chunk.layout-subscribe-button.vue";e.default=u.exports},244:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"subsite-card"},[i("div",{staticClass:"subsite-card__main"},[i("a",{staticClass:"subsite-card__avatar",style:{"background-image":"url('"+t.avatarUrl+"')"},attrs:{href:t.url}}),t._v(" "),i("div",{staticClass:"subsite-card__author-info"},[i("div",{staticClass:"subsite-card-title"},[i("a",{staticClass:"subsite-card-title__item subsite-card-title__item--name",attrs:{href:t.url}},[t._v("\n          "+t._s(t.name)+"\n        ")]),t._v(" "),t.isVerified?i("div",{staticClass:"subsite-card-title__item subsite-card-title__item--verified"},[i("icon",{attrs:{name:"ui_verified",width:"14"}})],1):t._e(),t._v(" "),t.isPlus?i("div",{staticClass:"subsite-card-title__item subsite-card-title__item--plus"},[i("layout-plus-badge",{attrs:{size:"small"}})],1):t._e(),t._v(" "),t.karma?i("div",{staticClass:"subsite-card-title__item subsite-card-title__item--karma"},[i("layout-number-change",{attrs:{value:t.karma,colored:["positive","negative"]}})],1):t._e()]),t._v(" "),t.description?i("div",{directives:[{name:"linkify",rawName:"v-linkify",value:{className:"t-link-classic"},expression:"{ className: 't-link-classic' }"}],staticClass:"subsite-card__description"},[t._v("\n        "+t._s(t.description)+"\n      ")]):t._e()])]),t._v(" "),t.isMe?t._e():i("div",{staticClass:"subsite-card__actions"},[t.isShowMessengerButton?i("layout-button",{staticClass:"subsite-card__messenger",attrs:{icon:"v_messenger","icon-size":[21,19],"desktop-layout":["icon"],"mobile-size":"tiny"},on:{click:function(e){t.openMessengerWindow(t.id.toString())}}},[i("translate",[t._v("\n        Write\n      ")])],1):t._e(),t._v(" "),t.isShowSubscribe?i("layout-subscribe-button",{attrs:{"subsite-id":t.id,"initial-button-type":"default","is-show-subscribed-button-labels":!1,"is-show-notifications-button":!0,"is-subscribed":t.isSubscribed,"is-notifications-enabled":t.isNotificationsEnabled,"mobile-size":"tiny"}}):t._e()],1)])};n._withStripped=!0;var s=i(30),a=i(553),o=i(205),l=i(589),u=i(641),r=i(9),b={name:"subsite-header",components:{Icon:s.a,LayoutButton:a.a,LayoutSubscribeButton:o.default,LayoutPlusBadge:l.a,LayoutNumberChange:u.a},props:{id:{type:Number,required:!0},url:{type:String,required:!0},name:{type:String,default:""},avatar:{type:String,default:""},karma:{type:Number,default:0},description:{type:String,default:""},isMe:{type:Boolean,default:!1},isPlus:{type:Boolean,default:!1},isVerified:{type:Boolean,default:!1},isSubscribed:{type:Boolean,default:!1},isNotificationsEnabled:{type:Boolean,default:!1},isShowMessengerButton:{type:Boolean,default:!1},isShowSubscribe:{type:Boolean,default:!0}},computed:{avatarUrl(){return Object(r.formImageUrl)(this.avatar,40)}},methods:{openMessengerWindow(t){window.triggerDomEvent.call(this,"openMessengerWindow",{channelId:t})}}},c=(i(1327),i(14)),d=Object(c.a)(b,n,[],!1,null,null,null);d.options.__file="src/Components/Subsite/vue/chunk.subsite-card.vue";e.default=d.exports},553:function(t,e,i){"use strict";var n=function(){var t,e=this,i=e.$createElement,n=e._self._c||i;return n(e.url?"a":e.tag,{tag:"component",class:["v-button","v-button--"+e.type,"v-button--size-"+e.size,(t={},t["v-button--mobile-size-"+e.mobileSize]=e.mobileSize,t["v-button--disabled"]=e.disabled,t["ui--bg_loading"]=e.loading,t)],attrs:{href:e.url||!1,target:!(!e.url||!e.newTab)&&"_blank","data-layout-mobile":e.mobileLayout,"data-layout-desktop":e.desktopLayout},on:{click:e.onClick}},[e.icon?n("div",{class:["v-button__icon",{"v-button__icon--new":e.icon.startsWith("v_")}]},[n("icon",{attrs:{name:e.icon,width:e.iconWidth,height:e.iconHeight}})],1):e._e(),e._v(" "),e.$slots.default?n("span",{staticClass:"v-button__label"},[e._t("default")],2):e._e()])};n._withStripped=!0;var s={name:"ui-button",components:{Icon:i(30).a},props:{tag:{type:String,default:"button"},type:{type:String,default:"default",validator:t=>["default","blue","green","red","app","plus","inline"].includes(t)},size:{type:String,default:"default",validator:t=>["large","default","small","tiny"].includes(t)},mobileSize:{type:String,default:""},icon:{type:String,default:""},iconSize:{type:[Number,Array],default:12},url:{type:String,default:""},newTab:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},mobileLayout:{type:Array,default:()=>["icon","label"]},desktopLayout:{type:Array,default:()=>["icon","label"]}},computed:{iconWidth(){return Array.isArray(this.iconSize)?this.iconSize[0]:this.iconSize},iconHeight(){return Array.isArray(this.iconSize)?this.iconSize[1]:this.iconSize}},methods:{onClick(t){this.disabled||("button"!==this.tag||this.url||t.preventDefault(),this.$emit("click",t))}}},a=(i(558),i(14)),o=Object(a.a)(s,n,[],!1,null,null,null);o.options.__file="src/Components/Ui/vue/layout/layout-button.vue";e.a=o.exports},554:function(t,e,i){var n=i(559);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(29).default)("84b89aea",n,!1,{})},558:function(t,e,i){"use strict";i(554)},559:function(t,e,i){(e=i(28)(!1)).push([t.i,"/**\n * @see src/Components/Ui/styles/buttons.styl\n */\n",""]),t.exports=e},572:function(t,e,i){var n=i(591);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(29).default)("bdba526a",n,!1,{})},576:function(t,e,i){var n=i(605);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(29).default)("1f9ea8cb",n,!1,{})},589:function(t,e,i){"use strict";var n=function(){var t=this.$createElement;return(this._self._c||t)("a",{class:["v-plus-badge","v-plus-badge--size-"+this.size,"v-plus-badge--"+this.appCodename],attrs:{href:this.url}},[this._v("\n  Plus\n")])};n._withStripped=!0;var s={name:"layout-plus-badge",components:{},props:{url:{type:String,default:"/plus"},size:{type:String,default:"default"}},data:()=>({appCodename:window.__codename}),computed:{}},a=(i(604),i(14)),o=Object(a.a)(s,n,[],!1,null,null,null);o.options.__file="src/Components/Ui/vue/layout/layout-plus-badge.vue";e.a=o.exports},590:function(t,e,i){"use strict";i(572)},591:function(t,e,i){(e=i(28)(!1)).push([t.i,":root {\n/**\n   * Raw height of the Mobile App bar (without safe-area-inset)\n   */\n  --mobile-bar-height-raw: 50px;\n/**\n   * Height of the Mobile App Bar\n   */\n  --mobile-bar-height: calc(var(--mobile-bar-height-raw) + env(safe-area-inset-bottom));\n/**\n   * Height of the App Redirect block for anon users\n   */\n  --mobile-app-redirect-height: 56px;\n}\n.v-subscribe-button {\n  display: grid;\n  grid-template-columns: auto;\n  grid-template-rows: auto;\n}\n.v-subscribe-button--with-notifications {\n  grid-gap: 8px;\n}\n.v-subscribe-button--full {\n  grid-template-columns: minmax(0, 1fr) auto;\n}\n.v-subscribe-button--full .v-button {\n  min-width: 0;\n}\n.v-subscribe-button__subscribe {\n  grid-column: 1/3;\n/**\n     * Decreased from 2 to 1 due to WD-7285\n     */\n  z-index: 1;\n}\n.v-subscribe-button__subscribed,\n.v-subscribe-button__unsubscribe {\n  grid-column: 1/2;\n}\n.v-subscribe-button__notifications {\n  grid-column: 2;\n}\n.v-subscribe-button__unsubscribe {\n  z-index: 1;\n  opacity: 0;\n}\n@media (hover: hover) {\n.v-subscribe-button__unsubscribe:hover {\n    opacity: 1;\n}\n.v-subscribe-button__unsubscribe:hover ~ .v-subscribe-button__subscribed {\n    opacity: 0;\n}\n}\n.v-subscribe-button .v-button {\n  --actions-gap: 0 !important;\n  grid-row: 1;\n}\n.v-subscribe-button .v-button--size-small {\n  --height: 34px;\n}\n.v-subscribe-button--state-active .v-subscribe-button__subscribe {\n  visibility: hidden;\n}\n.v-subscribe-button--state-inactive .v-subscribe-button__subscribed,\n.v-subscribe-button--state-inactive .v-subscribe-button__unsubscribe,\n.v-subscribe-button--state-inactive .v-subscribe-button__notifications {\n  visibility: hidden;\n}\n.v-subscribe-button--notifications-enabled .icon--bell {\n  color: #4683d9;\n  -webkit-transform: translateX(2px) rotate(15deg);\n  transform: translateX(2px) rotate(15deg);\n}\n.v-subscribe-button.v-subscribe-button--default .icon--ui_check {\n  color: #2ea83a;\n}\n.v-subscribe-button.v-subscribe-button--default .icon--ui_close {\n  color: #e52e3a;\n}\n.v-subscribe-button:not(.v-subscribe-button--with-notifications) .v-subscribe-button__subscribed,\n.v-subscribe-button:not(.v-subscribe-button--with-notifications) .v-subscribe-button__unsubscribe {\n  grid-column: 1/3;\n}\n",""]),t.exports=e},597:function(t,e,i){var n=i(654);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(29).default)("b3f373d6",n,!1,{})},604:function(t,e,i){"use strict";i(576)},605:function(t,e,i){(e=i(28)(!1)).push([t.i,":root {\n/**\n   * Raw height of the Mobile App bar (without safe-area-inset)\n   */\n  --mobile-bar-height-raw: 50px;\n/**\n   * Height of the Mobile App Bar\n   */\n  --mobile-bar-height: calc(var(--mobile-bar-height-raw) + env(safe-area-inset-bottom));\n/**\n   * Height of the App Redirect block for anon users\n   */\n  --mobile-app-redirect-height: 56px;\n}\n.v-plus-badge {\n  --font-size: 16px;\n  --font-weight: 700;\n  --height: 22px;\n  --offset: 9px;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: center;\n  justify-content: center;\n  background-image: linear-gradient(72.98deg, #f77690 0%, #e36881 25%, #cd526b 100%);\n  color: #fff;\n  text-transform: uppercase;\n  font-size: var(--font-size);\n  font-weight: var(--font-weight);\n  height: var(--height);\n  line-height: calc(var(--height) + 1px);\n  border-radius: var(--height);\n  padding: 0 var(--offset);\n}\n@media (max-width: 999px) {\n.v-plus-badge {\n    --font-size: 11px;\n    --height: 16px;\n    --offset: 6px;\n}\n}\n.v-plus-badge--size-small {\n  --font-size: 12px;\n  --height: 17px;\n  --offset: 6px;\n}\n@media (max-width: 999px) {\n.v-plus-badge--size-small {\n    --font-size: 11px;\n    --height: 16px;\n    --font-weight: 500;\n}\n}\n",""]),t.exports=e},641:function(t,e,i){"use strict";var n=function(){var t=this.$createElement;return(this._self._c||t)("div",{class:["v-number-change",{"v-number-change--positive":"positive"===this.changeType&&this.colored.includes("positive"),"v-number-change--negative":"negative"===this.changeType&&this.colored.includes("negative")}]},[this._v("\n  "+this._s(this.displayValue)+"\n")])};n._withStripped=!0;var s=i(8),a={name:"layout-number-change",components:{},props:{value:{type:Number,required:!0},postfix:{type:String,default:""},colored:{type:Array,default:()=>[]},isAbs:{type:Boolean,default:!1}},computed:{changeType(){return this.isAbs?"":this.value>0?"positive":this.value<0?"negative":""},sign(){return this.isAbs?"":this.value>0?"+":this.value<0?"−":""},absNumber(){return Object(s.numberFormat)(Math.abs(this.value),s.NON_BREAKING_SPACE)},displayValue(){return`${this.sign}${this.absNumber}${s.NON_BREAKING_SPACE}${this.postfix}`.trim()}}},o=(i(653),i(14)),l=Object(o.a)(a,n,[],!1,null,null,null);l.options.__file="src/Components/Ui/vue/layout/layout-number-change.vue";e.a=l.exports},653:function(t,e,i){"use strict";i(597)},654:function(t,e,i){(e=i(28)(!1)).push([t.i,":root {\n/**\n   * Raw height of the Mobile App bar (without safe-area-inset)\n   */\n  --mobile-bar-height-raw: 50px;\n/**\n   * Height of the Mobile App Bar\n   */\n  --mobile-bar-height: calc(var(--mobile-bar-height-raw) + env(safe-area-inset-bottom));\n/**\n   * Height of the App Redirect block for anon users\n   */\n  --mobile-app-redirect-height: 56px;\n}\n.v-number-change {\n  font-weight: 500;\n}\n.v-number-change--positive {\n  color: #2ea83a;\n}\n.v-number-change--negative {\n  color: #e52e3a;\n}\n",""]),t.exports=e}}]);